!function(a){"use strict";function d(b,d){this.element=b,this.options=a.extend({},c,d);var e=this.options.lang;void 0!==this.options.languages[e]&&a.extend(this.options,this.options.languages[e]),this.init()}if(a){var b="filestyle",c={browseText:"Выберите файл",placeholderText:"Файл не выбран",removeText:"Удалить",lang:"ru",languages:{en:{placeholderText:"No file chosen",browseText:"Choose File",removeText:"Remove"}}};d.prototype.init=function(){var b=this,c=a(b.element),d=c.clone();c.css({position:"absolute",top:"0",right:"0",opacity:"0","font-size":"120px"});var e=a('<div class="file-style-wrapper">').addClass(c.prop("class")),f=a('<div class="file-item">').addClass("file-empty"),g=a('<div class="file-input">').css({position:"relative",overflow:"hidden"}),h=a('<div class="file-name">').html(b.options.placeholderText),i=a('<div class="file-button-browse">').html(b.options.browseText),j=a('<div class="file-button-remove">').html(b.options.removeText);void 0!==b.options.wrapClass&&""!==b.options.wrapClass&&e.addClass(b.options.wrapClass),0===c.closest(".file-style-wrapper").length&&c.wrap(e),c.wrap(f),c.wrap(g),c.before(i),c.before(h);var k=void 0!==b.options.multiple?b.options.multiple:c.data("multiple");c.on("change.filestyle",function(){var a=c.val().replace(/.+[\\\/]/,"");if(""===a?(a=b.options.placeholderText,c.closest(".file-item").find(".file-button-remove").remove()):c.closest(".file-item").removeClass("file-empty").append(j),h.html(a),!0===k&&0===c.closest(".file-style-wrapper").find(".file-item.file-empty").length){var e=c.closest(".file-style-wrapper");d=d.clone().appendTo(e),d.filestyle(b.options)}}),j.on("click.filestyle",function(){var a;!0===k?(a=j.closest(".file-item"),a.remove()):(a=j.closest(".file-style-wrapper"),a.html(""),a.append(d),d.filestyle(b.options))})},d.prototype.destroy=function(){var b=this,c=a(b.element),d=c.closest(".file-style-wrapper");d.html(""),c.appendTo(d),c.unwrap(),c.removeAttr("style")},a.fn[b]=function(e){var f=arguments;if(void 0===e||"object"==typeof e)return this instanceof a||a.extend(c,e),this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new d(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var g;return this.each(function(){var c=a.data(this,"plugin_"+b);c||(c=a.data(this,"plugin_"+b,new d(this,e))),c instanceof d&&"function"==typeof c[e]&&(g=c[e].apply(c,Array.prototype.slice.call(f,1))),"destroy"===e&&a.data(this,"plugin_"+b,null)}),void 0!==g?g:this}}}}(jQuery);