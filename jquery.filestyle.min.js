/*
 * jQuery File Style v1.0.2
 * https://github.com/AlligatorAlex/jquery-filestyle
 *
 * Copyright 2017 Pixel Plus
 *
 * May 2 2017
 */
!function(a){"use strict";function d(b,d){this.element=b,this.options=a.extend({},c,d);var e=this.options.lang;void 0!==this.options.languages[e]&&a.extend(this.options,this.options.languages[e]),this.init()}if(a){var b="filestyle",c={browseText:"Выберите файл",placeholderText:"Файл не выбран",multipleText:"Число файлов: %s",removeText:"Удалить",lang:"ru",languages:{en:{placeholderText:"No file chosen",multipleText:"%s files",browseText:"Choose File",removeText:"Remove"}}};d.prototype.init=function(){var b=this,c=a(b.element),d=c.clone();void 0!==c.data("browse")&&(b.options.browseText=c.data("browse")),void 0!==c.data("placeholder")&&(b.options.placeholderText=c.data("placeholder")),void 0!==c.data("remove")&&(b.options.removeText=c.data("remove")),void 0!==c.data("multiple-text")&&(b.options.multipleText=c.data("multiple-text")),c.css({position:"absolute",top:"0",right:"0",opacity:"0","font-size":"120px"});var e=a('<div class="file-style-wrapper">').addClass(c.prop("class")),f=a('<div class="file-item">').addClass("file-empty"),g=a('<div class="file-input">').css({position:"relative",overflow:"hidden"}),h=a('<div class="file-name placeholder">').html(b.options.placeholderText),i=a('<div class="file-button-browse">').html(b.options.browseText),j=a('<div class="file-button-remove">').html(b.options.removeText);void 0!==b.options.wrapClass&&""!==b.options.wrapClass&&e.addClass(b.options.wrapClass),0===c.closest(".file-style-wrapper").length&&c.wrap(e),c.wrap(f),c.wrap(g),c.before(i),c.before(h);var k=void 0!==b.options.multiple?b.options.multiple:c.data("multiple");c.on("change.filestyle",function(){for(var a="",e=0,f=0;f<c[0].files.length;f++)e++;if(a=0===e?b.options.placeholderText:1===e?c.val().replace(/.+[\\\/]/,""):e>1?b.options.multipleText.replace(/%s/,e.toString()):b.options.placeholderText,e>0?(h.removeClass("placeholder"),c.closest(".file-item").removeClass("file-empty").append(j)):(h.addClass("placeholder"),c.closest(".file-item").find(".file-button-remove").remove()),h.html(a),!0===k&&0===c.closest(".file-style-wrapper").find(".file-item.file-empty").length){var g=c.closest(".file-style-wrapper");d=d.clone().appendTo(g),d.filestyle(b.options)}}),j.on("click.filestyle",function(){var a;!0===k?(a=j.closest(".file-item"),a.remove()):(a=j.closest(".file-style-wrapper"),a.html(""),a.append(d),d.filestyle(b.options))})},d.prototype.destroy=function(){var b=this,c=a(b.element),d=c.closest(".file-style-wrapper");d.html(""),c.appendTo(d),c.unwrap(),c.removeAttr("style")},a.fn[b]=function(e){var f=arguments;if(void 0===e||"object"==typeof e)return this instanceof a||a.extend(c,e),this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new d(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var g;return this.each(function(){var c=a.data(this,"plugin_"+b);c||(c=a.data(this,"plugin_"+b,new d(this,e))),c instanceof d&&"function"==typeof c[e]&&(g=c[e].apply(c,Array.prototype.slice.call(f,1))),"destroy"===e&&a.data(this,"plugin_"+b,null)}),void 0!==g?g:this}}}}(jQuery);